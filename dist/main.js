(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var i=n.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.p;const e={type:"text",name:"name",placeholder:"Task Name"},n={type:"date",name:"due",placeholder:"Due Date"},i={type:"text",name:"description",placeholder:"Task Description"},r={type:"text",name:"priority",placeholder:"Task Priority"},s={type:"submit",value:"Add Task"},a={type:"submit",value:"Cancel"};class c{constructor(t,e){this.name=t.name,this.due=t.due,this.description=t.description,this.priority=t.priority,this.id=e}}class o{constructor(t){this.name=t,this.tasks=[],this.id=o.assignId()}addTask(t){let e=this.tasks.length+1,n=new c(t,e);this.tasks.push(n)}static assignId(){return l++}}let d=[],l=1;function p(t){let e=k("li","project-task");e.innerText=t.name;let n=function(t){let e=k("ul","project-task-details");e.classList.add("hidden");let n=function(){let t=k("li","details-complete");return t.classList.add("button"),t.innerText="Mark as finished",t.addEventListener("click",u),t}(),i=function(){let t=k("li","details-edit");return t.classList.add("button"),t.innerText="Edit task",t.addEventListener("click",f),t}();e.append(n),e.append(i);for(let n in t)if("name"!=n){let i=k("li","details"),r=n[0].toUpperCase().concat(n.slice(1));i.innerText=`${r}: ${t[n]}`,e.append(i)}return e}(t);return e.append(n),e.addEventListener("click",(function(t){t.stopPropagation(),function(t){let e=t.querySelector(".project-task-details");null!=e&&e.classList.toggle("hidden")}(t.target)})),e}function u(){let t=this.closest(".project-task");t.classList.toggle("checkedoff"),t.classList.contains("checkedoff")?this.innerText="Finished!":this.innerText="Mark as finished"}function f(){let t=this.closest(".project-task");console.log(t)}function m(){let t=this.closest(".project"),c=t.querySelector(".project-items"),o=function(){let t=k("form","task-form"),c=[h(e),h(n),h(i),h(r),h(s),h(a)];for(let e of c)t.append(e);return t}();c.append(o),o.addEventListener("submit",(e=>{if(e.preventDefault(),"Cancel"===e.submitter.value)c.removeChild(o);else{let n=Object.fromEntries(new FormData(e.target).entries());!function(t,e){let n=p(e);t.append(n)}(c,n),function(t,e){d.find((e=>e.id==t.getAttribute("data-id"))).addTask(e)}(t,n),c.removeChild(o)}}))}function h(t){let e=document.createElement("input");for(let n in t)e.setAttribute(n,t[n]);return e}function k(t,e){let n=document.createElement(t);return n.classList.add(e),n}function g(t){let e=new o(t);var n;n=e,document.querySelector(".projects-list").append(function(t){let e=k("div","project");e.setAttribute("data-id",t.id);let n=function(t){let e=k("div","project-heading"),n=k("h2","project-title");n.innerText=t;let i=k("div","divider");return e.append(n),e.append(i),e}(t.name),i=k("ul","project-items"),r=function(){let t=k("div","add-new-task"),e=k("div","new-task-button");return e.innerText="+ add task",e.addEventListener("click",m),t.append(e),t}();return e.append(n),e.append(i),e.append(r),e}(n)),function(t){d.push(t)}(e)}document.getElementById("create-project-form").addEventListener("submit",(t=>{t.preventDefault();let e=Object.fromEntries(new FormData(t.target).entries());e.name?g(e.name):g("Unnamed Project"),t.target.reset()}))})();